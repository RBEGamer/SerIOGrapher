<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Accelerometer Graphs</title>
    <link rel="stylesheet" href="../bower_components/rickshaw/rickshaw.min.css">
    <link type="text/css" rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css">
    <link type="text/css" rel="stylesheet" href="main.css">
</head>

<div class="column_wrapper">
    <div class="chart_container">
        <div id="accel_y_axis" class="y_axis"></div>
        <div id="accel_chart" class="chart"></div>
    </div>
</div>

<div class="column_wrapper">
    <div class="chart_container">
        <div id="gyro_y_axis" class="y_axis"></div>
        <div id="gyro_chart" class="chart"></div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<script src="/bower_components/d3/d3.min.js"></script>
<script src="/bower_components/rickshaw/rickshaw.min.js"></script>
<script src="/bower_components/rickshaw/src/js/Rickshaw.Graph.RangeSlider.js"></script>
<script src="/bower_components/rickshaw/src/js/Rickshaw.Graph.RangeSlider.Preview.js"></script>
<script src="/bower_components/rickshaw/src/js/Rickshaw.Graph.Smoother.js"></script>
<!--script src="bower_components/socket.io/" -->

<script src="/public/main.js"></script>
<script>
    var sg_data = Seriographer.init({
        io_source: 'http://localhost:8080/port/COM3',
        sets: [
            {
                graph_el: 'accel_chart',
                graph_y_el: 'accel_y_axis',
                mapping: function(parts){
                    return [
                        parseInt(parts[0]), /*ax*/
                        parseInt(parts[1]), /*ay*/
                        parseInt(parts[2])  /*az*/
                    ];
                },
                graph: {
                    series: [
                        {
                            color: 'red',
                            name: 'ax',
                            data: []
                        },
                        {
                            color: 'green',
                            name: 'ay',
                            data: []
                        },
                        {
                            color: 'blue',
                            name: 'az',
                            data: []
                        }
                    ]
                },
                y_axis: {
                }
            },
            {
                graph_el: 'gyro_chart',
                graph_y_el: 'gyro_y_axis',
                mapping: function(parts){
                    return [
                        parseInt(parts[3]), /*gx*/
                        parseInt(parts[4]), /*gy*/
                        parseInt(parts[5])  /*gz*/
                    ];
                },
                graph: {
                    min: -50000,
                    max: 50000,
                    series: [
                        {
                            color: 'orange',
                            name: 'gx',
                            data: []
                        },
                        {
                            color: 'teal',
                            name: 'gy',
                            data: []
                        },
                        {
                            color: 'purple',
                            name: 'gz',
                            data: []
                        }
                    ]
                }
            }
        ],
        overrides: {
            graph: {
                width: 500,
                interpolation: 'cardinal'
            }
        }
    });
</script>